# Monty Hall Problem

The Monty Hall problem is a probability puzzle based on a game show. The game show host, Monty Hall, presents the contestant with three doors. Behind one of the doors is a car, and behind the other two doors are goats. The contestant chooses a door, and then Monty Hall opens one of the other two doors to reveal a goat. The contestant is then given the option to switch doors. 

## Should the contestant switch doors?

At first glance, a person may assume that switching doors has no impact on the probability of success. That is not the case!

* The probability of winning the car is $\frac{2}{3}$ if the contestant switches doors.
* The probability of winning the car is $\frac{1}{3}$ if the contestant does not switch doors.

The puzzle becomes even more intriguing from an observer's perspective.

### Observer Perspective

If contestants go into the game knowing the facts above, they would always switch doors. As a result, an observer would see contestants win two-thirds of the time. However, if we assume that all contestants are unaware that switching doors improves their chances of winning, they will be equally likely to keep their original choice or switch.

With this assumption about uninformed contestants, observers will see contestants win the game with a probability of $\frac{1}{2}$.

## Brief Summary - Observer vs. Contestant

Let us compile what has been stated:

* Contestants that do not switch doors will have a probability of winning of $\frac{1}{3}$.
* Contestants that do switch doors will have a probability of winning of $\frac{2}{3}$.
* Observers watching uninformed contestants will see the game won with a probability of $\frac{1}{2}$.

This can give the impression that the outcome probabilities differ between the observer and the contestant.

---

## Counterintuitive Solution

The Monty Hall problem is counterintuitive.

* The probability of winning the car is uniformly distributed among the door options initially. 
* The probability of the initial door choice being correct never changes. 
* When Monty Hall opens a door, the probability of the remaining door not selected by the contestant doubles.
* An observer watching uninformed contestants will see them win half the time.

Mathematical applications often have links to real-world scenarios and constraints that can be visualized in an intuitive manner. However, there are exceptions that humans may struggle to understand. 

Probability theory is well established and is known for its counterintuitive results. When counterintuitive results are linked to real-world scenarios, it can give the impression that objects or scenarios are defying logic. Such scenarios can appear like magic. Probability theory is often referred to as the *mathematics of magic*. 

Many counterintuitive events observed by physicists and mathematicians are often linked to probability theory. Quantum physics is often based in probability theory, leaving experiment observers baffled. This aligns with Albert Einstein's claim that quantum physics is **spooky action at a distance**.  

---

## Mathematical Approach

Despite being potentially counterintuitive, the Monty Hall problem can be proven mathematically using the law of total probability and Bayes' theorem. The law of total probability states that the probability of an event is the sum of the probabilities of the event given certain conditions.  

### The Law of Total Probability

Let $A$ be an event and $B_1, B_2, ..., B_n$ be a set of mutually exclusive and exhaustive events. The probability of $A$ can be expressed as the sum of the probabilities of $A$ given each of the events $B_i$ multiplied by the probability of each event $B_i$:

$$P(A) = \sum\limits_{i=1}^{n} P(A|B_i)P(B_i)$$

Bayesian probability can be viewed in one of two ways:

1. It provides a method for calculating the probability of an event based on prior knowledge of conditions related to the event.  
2. It provides a method of recalculating the probability of an event based on new information.

The second item above is relevant to the Monty Hall problem. After Monty Hall opens one of the doors, the contestant gains new information. This new information allows the contestant to recalculate the probability of winning the car.


### Proof

We will first need to define and label a few facts.

- $D_p$: The door the contestant initially picks
- $D_c$: The door with the car
- $D_m$: The door Monty Hall opens to reveal a goat
- $D_s$: The door the contestant selects after Monty Hall reveals a goat
    - $D_s = D_p$: Contestant stays with the original door
    - $D_s \neq D_p$: Constant switches doors

Let's define scenarios using logic expressions 

- $(D_s = D_c)$: The contestant wins the car.
- $( D_s = D_p)$: The contestant does not switch doors.
- $(D_s \neq D_p)$: The contestant switched doors.
- $(D_p = D_c)$: The  contestant initially picks the door with the car. 
- $(D_m = D_c)$: Monty Hall opens the door with the car.  
- $(D_m = D_p)$: Monty Hall opens the door the contestant initially picked.
- $(D_m \neq D_p \land D_m \neq D_c)$: Monty Hall does not open the door with the car or the door selected by the contestant.

#### Contestant Probabilities

Consider the scenario where the contestant wins and did not switch doors.  This is logically expressed below.
$$(D_s = D_c) \land (D_s = D_p)$$

Notice the three expressions below are exhaustive and mutually exclusive with respect to the actions of Monty Hall. Two of these actions are impossible (contradictions $\bot$) implying the remaining case is a tautology ($\top$).

- $(D_m = D_c) \implies \bot \implies P(D_m = D_c) = P(\bot) = 0$
- $(D_m = D_p) \implies \bot \implies P(D_m = D_p) = P(\bot) = 0$
- $(D_m \neq D_p) \land (D_m \neq D_c) \implies \top \implies P(D_m \neq D_p \land D_m \neq D_c) = P(\top) =1$

The conditional probability the player wins without switching can be expressed using the law of total probability with respect to the actions of Monty Hall.

$$
\begin{align*}
P(D_s = D_c | D_s = D_p) &= P(D_s = D_c | D_s = D_p, D_m = D_c) \cdot \underbrace{P(D_m = D_c)}_{0} \\\\
    &+ P(D_s = D_c | D_s = D_p, D_m = D_c) \cdot \underbrace{P(D_m = D_p)}_{0} \\\\
    &+ P(D_s = D_c | D_s = D_p, D_m \neq D_p \land D_m \neq D_c) \cdot \underbrace{P(D_m \neq D_p \land D_m \neq D_c)}_{1}
\end{align*}
$$

The above can be simplified to the expression below.

$$P(D_s = D_c | D_s = D_p) = P(D_s = D_c | D_s = D_p, D_m \neq D_p \land D_m \neq D_c)$$

The conversion of the conditional probability into a logical expression is demonstrated below. Observe that the conditional probability simplifies to an unconditional probability. Specifically, it reduces to the probability of the contestant initially selecting the door with the car, without any additional information from Monty Hall's actions. Since there are three doors, this probability is $\frac{1}{3}$. This is detailed in the expression below.

$$
\begin{align*}
P(D_s = D_c | D_s = D_p) &= P(D_s = D_c | D_s = D_p, D_m \neq D_p \land D_m \neq D_c) \\
&= P(\underbrace{D_s = D_c \land D_s = D_p}_{D_c = D_p} \land \underbrace{D_m \neq D_p \land D_m \neq D_c}_{\top}) \\\\
&= P(D_c = D_p)\\
&= \frac{1}{3}
\end{align*}
$$

The probability of the contestant winning the car without switching doors is $\frac{1}{3}$.

Next, letâ€™s consider the probability of the contestant winning the car by switching doors:

$$P(D_s = D_c | D_s \neq D_p)$$

Using a similar application of the law of total probability based on Monty Hall's actions, we can determine the following:


$$
\begin{align*}
P(D_s = D_c | D_s \neq D_p) &= P(D_s = D_c | D_s \neq D_p, D_m = D_c) \cdot \underbrace{P(D_m = D_c)}_{0} \\\\
    &+ P(D_s = D_c | D_s \neq D_p, D_m = D_c) \cdot \underbrace{P(D_m = D_p)}_{0} \\\\
    &+ P(D_s = D_c | D_s \neq D_p, D_m \neq D_p \land D_m \neq D_c) \cdot \underbrace{P(D_m \neq D_p \land D_m \neq D_c)}_{1}
\end{align*}
$$

This simplifies to the expression below.

$$P(D_s = D_c | D_s \neq D_p) = P(D_s = D_c | D_s \neq D_p, D_m \neq D_p \land D_m \neq D_c)$$

Apply the logical expressions

$$
\begin{align*}
P(D_s = D_c | D_s \neq D_p) &= P(D_s = D_c | D_s \neq D_p, D_m \neq D_p \land D_m \neq D_c) \\
&= P(\underbrace{D_s = D_c \land D_s \neq D_p}_{D_c \neq D_p} \land \underbrace{D_m \neq D_p \land D_m \neq D_c}_{\top}) \\\\
&= P(D_c \neq D_p) \\
&= 1 - P(D_c = D_p) \\
&= 1 - \frac{1}{3} \\
&= \frac{2}{3}
\end{align*}
$$

The probability of the contestant winning the car by switching doors is $\frac{2}{3}$

#### Observer Probabilities

At this stage, we have outlined the probabilities relevant to the contestant. Now, let's consider the probabilities associated with an observer watching games played by uninformed contestants. The observer's probability is represented as shown below.

$$P(D_s = D_c)$$

By applying the law of total probability, we can calculate the likelihood of an uninformed contestant winning. This calculation is based on the mutually exclusive and exhaustive scenarios of whether the contestant chooses to switch doors.
 

$$ 
\begin{align*}
P(D_s = D_c) &= P(D_s = D_c \mid D_s = D_p) \cdot P(D_s = D_p) 
    &+ P(D_s = D_c \mid D_s \neq D_p) \cdot P(D_s \neq D_p) 
\end{align*}
$$


Substituting known probabilities:

* $P(D_s = D_c \mid D_s = D_p) = \frac{1}{3}$
* $P(D_s = D_c \mid D_s \neq D_p) = \frac{2}{3}$
* $P(D_s = D_p) = \frac{1}{2}$
* $P(D_s \neq D_p) = \frac{1}{2}$

The final result:

$$
\begin{align*}
P(D_s = D_c) &= \underbrace{P(D_s = D_c \mid D_s = D_p)}_{\frac{1}{3}} \cdot \underbrace{P(D_s = D_p)}_{\frac{1}{2}} \\\\
    &+ \underbrace{P(D_s = D_c \mid D_s \neq D_p)}_{\frac{2}{3}} \cdot \underbrace{P(D_s \neq D_p)}_{\frac{1}{2}} 
\end{align*}
$$

We have the final result for the probability value.
$$P(D_s = D_c) = \frac{1}{3} \cdot \frac{1}{2} + \frac{2}{3} \cdot \frac{1}{2} = \frac{1}{1}$$

This demonstrates that observers will see uninformed contestants win with a probability of $\frac{1}{2}$.

---

## Java Simulation

Probability results based on the law of total probability can sometimes be challenging to grasp. Fortunately, computer simulations can provide empirical evidence. You can find Java code at the GitHub link below that provides simulation results: 

[https://github.com/abstractclassroom/Monty-Hall-Simulator](https://github.com/abstractclassroom/Monty-Hall-Simulator)

The code simulates:

* Two million Monty Hall games:
    * One million simulations where the player does **not** switch doors.
    * One million simulations where the player switches doors.

### Results

* Count Totals:
    * No switch strategy wins: 330,089
    * Switch strategy wins: 669,065
    * Total wins: 999,154

* Count Proportions:
    * No switch win rate: $0.3301 \approx \frac{1}{3}$
    * Switch win rate: $0.6691 \approx \frac{2}{3}$
    * Total win rate: $0.4996 \approx \frac{1}{2}$

Notice how closely the empirical results align with the predicted probabilities.


---

## Conclusion

The following summarizes the above proof:

* The probability of winning the car is $\frac{2}{3}$ if the contestant switches doors.
* The probability of winning the car is $\frac{1}{3}$ if the contestant does **not** switch doors.  
* Initially, all doors have a probability of success of $\frac{1}{3}$.
* The probability of the door not selected by the player and not opened by Monty Hall doubles.
* The probability of observing an uninformed contestant win is $\frac{1}{2}$.

All things considered...**spooky action at a distance**.




